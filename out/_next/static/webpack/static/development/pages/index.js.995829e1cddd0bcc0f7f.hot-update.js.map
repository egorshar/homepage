{"version":3,"file":"static/webpack/static/development/pages/index.js.995829e1cddd0bcc0f7f.hot-update.js","sources":["webpack:///./components/Gallery.js"],"sourcesContent":["\nimport get from 'lodash/get'\nimport map from 'lodash/map'\nimport { Fragment, Component } from 'react'\nimport ContentLoader from 'react-content-loader'\nimport Img from 'react-image'\n\nimport getInstagramPosts, { generatePostURL } from '../utils/instagram'\n\nclass InstagramPosts extends Component {\n  state = {\n    posts: [],\n    index: 0\n  }\n\n  componentDidMount() {\n    getInstagramPosts()\n      .then(posts => this.setState({ posts }))\n  }\n\n  loader() {\n    return (\n      <ContentLoader\n        height={580}\n        width={400}\n        speed={2}\n        primaryColor=\"#f3f3f3\"\n        secondaryColor=\"#ecebeb\"\n        style={{maxWidth: 500}}\n      >\n        <circle cx=\"100\" cy=\"7\" r=\"1\" />\n        <rect x=\"1\" y=\"1\" rx=\"0\" ry=\"0\" width=\"416\" height=\"496\" />\n        <rect x=\"1\" y=\"519\" rx=\"0\" ry=\"0\" width=\"272\" height=\"16\" />\n      </ContentLoader>\n    )\n  }\n\n  image(children, post) {\n    return (\n      <Fragment key={post.id}>\n        <p>\n          {children}\n        </p>\n        <p>\n          <a href={generatePostURL(post.shortcode)} target=\"_blank\" rel=\"nofollow noopener\">\n            {get(post, 'edge_media_to_caption.edges[0].node.text', generatePostURL(post.shortcode))}\n          </a>\n        </p>\n      </Fragment>\n    )\n  }\n\n  onImageClick() {\n    const { posts, index } = this.state\n\n    let nextIndex = index + 1;\n    if (nextIndex > posts.length - 1) nextIndex = 0\n\n    this.setState({ index: nextIndex })\n  }\n\n  render() {\n    const { posts, index } = this.state\n\n    if (!posts.length) {\n      return this.loader()\n    }\n\n    const post = posts[index];\n\n    return (\n      <div className=\"gallery\">\n        <Img\n          key={post.id}\n          src={post.display_url}\n          alt=\"\"\n          className=\"portrait\"\n          onClick={this.onImageClick.bind(this)}\n          container={children => this.image(children, post)}\n          loaderContainer={children => (\n            <>{children}</>\n          )}\n          loader={this.loader()}\n        />\n\n        <style jsx>{`\n          .gallery {\n            max-width: 500px;\n            display: flex;\n            flex-direction: column;\n            position: relative;\n          }\n\n          .gallery :global(img) {\n            width: 100%;\n            max-width: 500px;\n            border-radius: 4px;\n            box-shadow: 0px 0px 30px 0px rgba(0,0,0,0.15);\n            cursor: e-resize;\n          }\n\n          .gallery :global(a) {\n            white-space: normal;\n          }\n\n          .next-slide {\n            position: absolute;\n            top: 0;\n            left: 100%;\n            height: calc(100% - 45px);\n            padding: 0;\n            width: 50px;\n            border: 0;\n            background: none;\n            box-shadow: none;\n            cursor: pointer;\n          }\n\n          @media only screen and (max-width: 600px) {\n            .next-slide {\n              display: none;\n            }\n          }\n        `}</style>\n      </div>\n    )\n  }\n}\n\nexport default InstagramPosts;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;;;;;;AAIA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;;;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;AAEA;AAAA;AAAA;AAAA;AAGA;AACA;AAEA;AAAA;AAAA;AACA;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAuDA;;;;AArHA;AACA;AAuHA;;;;A","sourceRoot":""}